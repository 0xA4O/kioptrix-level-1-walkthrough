# kioptrix-level-1-walkthrough
this is a walk throw for kioptrix level 1 machine on vulnhub.com from the perspective of a penetration tester

We will be looking for possible vulnerabilities in the machine.

let's find what is the IP address of the machine we can do so by using either nmap or netdiscover here I used netdiscover

![image 2](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/a5348f5c-ce19-41cb-a768-b1ed1540c245)

Let's focus on the second 2 IPs and try to scan them with Nmap

![image 3](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/7ca835fc-7891-4857-b0e8-e057807864b2)


nmap -p- -A 10.0.2.9


-A to enable OS detection, version detection, script scanning, and traceroute
-p- to scan all ports 
-oN to save the normal output 



there is a very interesting ports here a 
22 which is the SSH port 
80 which is HTTP website running ( apache 1.3.20 ) 
139 smb file sharing protocol with Samba
and 443 https Apache server

![image](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/914e3e43-6b8a-4814-b4d8-c24df312593a)



I think its a good start to investigate what is on the website 

![image 4](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/bf1cca8e-374a-44ab-ac77-1250e55f728c)

We found it running an apache; We knew this earlier, And on a RedHat Linux Machine. Let's try to enumerate vulnerabilities using Nikto

For the scope of this Machine, Lets focus on SSL
Which may allow a remote shell

![image 5](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/ad7e50f7-8c70-4c52-ac8e-0d4ed2d92e03)


let's try to enumerate subfolders with either (dirb, dirbuster, gobuster)

I'll use dirbuster

you can simply run it by typing 

![image](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/1bff40e3-278d-4f50-b24d-0463800e8225)

let's try to open manually each folder to find anything interrested

![image 2](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/580ba73c-d4e8-47df-8d16-824699754472)

when you access any page on the "usage" subdirectory you'll notice that its

 Generated by Webalizer Version 2.01   



starting enumeration 139 smb port with Metasploit

trying to know what version we search metasploit for smb
auxiliary modules used for enumeration so will focus on them we found that one that search for version for me is 105 or you can copy and paste the selection 

![image 3](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/ba6adb79-2fcd-47a4-b5c1-15b29cb64795)


see options to see needed inputs

assigning RHOSTSand start enumeration
you can change the threads too for speed
![image 4](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/8f13f283-cedc-424d-9e6d-3b90d98c94c4)


to run you just type exploit or run 
as you see it runs on samba 2.2.1a we can search for vulnerabilities in this version


![image 5](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/480db67e-2f70-4038-bb1e-cd7b25940bd8)


searching for vulnerabilities for samba Samba 2.2.1a

we know that the machine runs on Linux so 2 is the one


![image](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/2b79df98-ffe7-402b-b2c4-12d4280d0a77)


we need to set the RHOSTS and run

![image 2](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/b96b0fd7-68e3-4d43-a510-70586c3bfcb8)


it keeps on ding so I'm going to change the payload 


![image 3](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/a4277b21-2d4f-4ea7-8228-dac06f58a62e)


the current payload is staged let's try a nonstaged payload

![image 4](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/c50de559-edc0-4e24-8504-1cf488503a84)

exploit 

congrats! you are now root



![image 5](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/a83cd33a-7481-48cc-8cae-39c031cdad93)


let's see if there is another way to hack the machine


another method to hack into the machine

a simple search on  google for mod_ssl 2.8.7 exploit will find multiple exploits out there let's try them and see whish one is going to work

https://github.com/heltonWernik/OpenLuck

from here, you can follow along and get root access




