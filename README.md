# kioptrix-level-1-walkthrough
this is a walk throw for kioptrix level 1 machine on vulnhub.com on perspective of penetratoin tester

We will be looking for possible vulnerabilities in the machine.

lets find what is the ip address of the machine we can do so by using either nmap or netdiscover here i used netdiscover

![image 2](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/a5348f5c-ce19-41cb-a768-b1ed1540c245)

lets focus on second 2 ips and try to scan them with nmap

![image 3](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/7ca835fc-7891-4857-b0e8-e057807864b2)


nmap -p- -A 10.0.2.9


-A to enable OS detection, version detection, script scanning, and traceroute
-p- to scan all ports 
-oN to save normal output 



there is a very interresting ports here a 
22 which is SSH port 
80 which is http web site running ( apache 1.3.20 ) 
139 smb file sharing protocol with samba
and 443 https apache server

![image](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/914e3e43-6b8a-4814-b4d8-c24df312593a)



i think its a good start to invastigate what is in the website 

![image 4](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/bf1cca8e-374a-44ab-ac77-1250e55f728c)

we found it running an apache we knew this earlier and on a redhat linux machine let try to enumerate vulnerabilities using nikto

for the scope of this machine lets focus on ssl which may allow a remote shell

![image 5](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/ad7e50f7-8c70-4c52-ac8e-0d4ed2d92e03)


lets try to enumerate sub folders with either (dirb, dirbuster, gobuster)

i'll use dirbuster

you can simply run it by typing 

![image](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/1bff40e3-278d-4f50-b24d-0463800e8225)

lets try to open manually eachfolder to find any thing interrested

![image 2](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/580ba73c-d4e8-47df-8d16-824699754472)

when you access any page on usage folder you'll notice that its

 Generated by Webalizer Version 2.01   



starting enumeration 139 smb port with metasploit

trying to know what version we search metasploit for smb
auxiliary modules used for enumeration so will focus on them we found that one that search for version for me its 105 or you can copy and paste selection 

![image 3](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/ba6adb79-2fcd-47a4-b5c1-15b29cb64795)


see options to see needed inputs

asigning rhosts and start enumeration
you can change the threads to for speed
![image 4](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/8f13f283-cedc-424d-9e6d-3b90d98c94c4)


to run you just type exploit or run 
as you see it runs on samba 2.2.1a we can search for vulnerabilities of this version


![image 5](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/480db67e-2f70-4038-bb1e-cd7b25940bd8)


searching for vulnerabilities for samba Samba 2.2.1a

we know that machine runs on linux so 2 is the one


![image](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/2b79df98-ffe7-402b-b2c4-12d4280d0a77)


we need to set the rhosts and run

![image 2](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/b96b0fd7-68e3-4d43-a510-70586c3bfcb8)


it keeps on ding so im going to change the payload 


![image 3](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/a4277b21-2d4f-4ea7-8228-dac06f58a62e)


the currnet payload is staged lets try a nonstaged payload

![image 4](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/c50de559-edc0-4e24-8504-1cf488503a84)

exploit 

congrats! you are now root



![image 5](https://github.com/0xA4O/kioptrix-level-1-walkthrough/assets/57577405/a83cd33a-7481-48cc-8cae-39c031cdad93)


lets see if there is another way to hack the machine


another method to hack into machine

a simple search on  google for mod_ssl 2.8.7 exploit will find multiple exploits out there lets try them and see whish one is going to work

https://github.com/heltonWernik/OpenLuck

from here, you can follow allong and get root access




